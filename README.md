###### Итоговая аттестация по программе «Профессия "Backend-разработчик на Go"»
# API Gateway 

Задание состояло из нескольких пунктов:
1. Разработать агрегатор новостей;
2. Разботать сервис комменатриев;
3. Разработать сервис, который получает запрос от клиента, на его основе передает запросы к агрегатору новостей, сервису комменатриев и получает от них ответ, обрабатывает его и передает назад клиенту.

### Агрегатор новостей
Агрегатор новостей был создан ранее, нужно было его немного доработать.  
1. Добавить поиск по названию
2. Добавить постраничную навигацию к запросу списка новостей
3. Добавить журналирование запросов (*не указано, в каком виде нужно сделать журналирование, поэтому просто вывод лога в командную строку*)

### Сервис комменатриев
Для сервиса комменатриев была создана отдельная база данных.
Сервис должен уметь записывать в базу данных комменатрии и извлекать их по запросу.

### Сервис цензурирования
По заданию необходимо было сделать сервис цензурирования, для того, чтобы сначала комментарии проходили некторую верификацию, и только после ее прохождения добавлялись в базу данных.

# Запуск
Разворачиваем контейнеры
1) 
```go
docker-compose up
```
2) Проверим, что все контейнеры запущены
 
# Тестирование

Тестировать все будем через Postman
##### Добавление комментария
Для добавления комменатрия нужно передать ID новости или ID родительского комменатрия, а так же сам текст комментария.
В Postman выбираем метод POST , запрос http://localhost:8080/create-comment, и в теле запроса нужно указать ID новости и текст комментария
 ```go
{   
    "news_id": 1,
    "commentText": "PROVERKA"
}
```
##### Добавление комментария, не проходящего верификацию
В Postman выбираем метод POST , запрос http://localhost:8080/create-comment, и в теле запроса нужно указать ID новости и текст комментария
 ```go
{   
    "news_id": 1,
    "commentText": "PROVERKA jAvA zooi"
}
```
##### Извлечение комментария
В Postman выбираем метод GET , запрос http://localhost:8080/get-comment/1

##### Извлечение новостей
В Postman выбираем метод GET , запрос http://localhost:8080/news/3 выдаст нам 3 новости на страницу.
Чтобы проверить пагинацию, сделаем другой запрос http://localhost:8080/news/3/2

##### Извлечение новости и комменатриев к ней
В Postman выбираем метод GET , запрос http://localhost:8080/id/1
Так как мы добавляли комменатрий к новости с ID = 1 , в ответ мы должны получить саму новость и комменатрии к ней.
